{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emman\\\\OneDrive\\\\Documents\\\\reacttsx\\\\React-TS-login-using-jwt\\\\src\\\\Components\\\\vitasdash\\\\dash1.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from \"react\";\nimport DataTable from \"react-data-table-component\";\nimport \"../vitasdash/VitasDashcss/dash1.css\";\nimport ModalEditarUsuario from \"../../Components/vitasdash/Modal/ModalEditarUsuario\";\nimport { UsuariosContext } from \"../../context/dashtabla/UsersTableContext\";\nimport { UserDeleteContext } from \"../../context/dashtabla/userDeleteContext\";\nimport ModalConfirmar from \"./Modal/ModalConfirmar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  name: \"Nombre\",\n  selector: row => row.nombre,\n  sortable: true\n}, {\n  name: \"Apellido\",\n  selector: row => row.apellido,\n  sortable: true\n}, {\n  name: \"Email-@\",\n  selector: row => row.email,\n  sortable: true\n}, {\n  name: \"Fecha de nacimiento\",\n  selector: row => row.fechaNacimiento\n}, {\n  name: \"Telefono\",\n  selector: row => row.telefono\n}, {\n  name: \"Acciones\",\n  selector: row => row.acciones\n}];\nconst Dash1 = () => {\n  _s();\n  const {\n    usuarios,\n    modalAbierto,\n    usuarioSeleccionado,\n    cerrarModal\n  } = useContext(UsuariosContext);\n  const {\n    eliminarUsuarios\n  } = useContext(UserDeleteContext);\n  const [selectedRows, setSelectedRows] = useState([]);\n  const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\n  const handleRowSelected = state => {\n    setSelectedRows(state.selectedRows);\n  };\n  const EliminarusuarioCofirmacion = () => {\n    setIsConfirmModalOpen(true);\n  };\n  const handleEliminarClick = async () => {\n    try {\n      const idsUsuarios = selectedRows.map(row => row.idUsuario);\n      await eliminarUsuarios(idsUsuarios);\n      setIsConfirmModalOpen(false);\n    } catch (error) {\n      console.error('Error al eliminar usuarios:', error);\n    }\n  };\n  const cancelarEliminacio = () => {\n    setIsConfirmModalOpen(false);\n  };\n  if (!usuarios) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Cargando...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"table-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(DataTable, {\n      title: \"Usuarios registrados\",\n      columns: columns,\n      data: usuarios,\n      pagination: true,\n      paginationPerPage: 5,\n      contextMessage: {\n        singular: 'Usuario seleccionado',\n        plural: 'Usuarios seleccionados'\n      },\n      selectableRows: true,\n      onSelectedRowsChange: handleRowSelected,\n      fixedHeader: true,\n      contextActions: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEliminarClick,\n        style: {\n          backgroundColor: \"red\",\n          borderRadius: \"10px\",\n          color: \"white\",\n          borderColor: \"white\",\n          height: \"45px\",\n          width: \"80px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/iconos/Delete.png\",\n          style: {\n            height: \"45px\"\n          },\n          alt: \"Eliminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), modalAbierto && usuarioSeleccionado && /*#__PURE__*/_jsxDEV(ModalEditarUsuario, {\n      usuario: usuarioSeleccionado,\n      cerrarModal: cerrarModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ModalConfirmar, {\n      show: isConfirmModalOpen,\n      handleClose: cancelarEliminacio,\n      handleConfirm: EliminarusuarioCofirmacion\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(Dash1, \"9MxbU/DA9KA1TztGymEYKN1wn3k=\");\n_c = Dash1;\nexport default Dash1;\nvar _c;\n$RefreshReg$(_c, \"Dash1\");","map":{"version":3,"names":["React","useContext","useState","DataTable","ModalEditarUsuario","UsuariosContext","UserDeleteContext","ModalConfirmar","jsxDEV","_jsxDEV","columns","name","selector","row","nombre","sortable","apellido","email","fechaNacimiento","telefono","acciones","Dash1","_s","usuarios","modalAbierto","usuarioSeleccionado","cerrarModal","eliminarUsuarios","selectedRows","setSelectedRows","isConfirmModalOpen","setIsConfirmModalOpen","handleRowSelected","state","EliminarusuarioCofirmacion","handleEliminarClick","idsUsuarios","map","idUsuario","error","console","cancelarEliminacio","children","fileName","_jsxFileName","lineNumber","columnNumber","className","title","data","pagination","paginationPerPage","contextMessage","singular","plural","selectableRows","onSelectedRowsChange","fixedHeader","contextActions","onClick","style","backgroundColor","borderRadius","color","borderColor","height","width","src","alt","usuario","show","handleClose","handleConfirm","_c","$RefreshReg$"],"sources":["C:/Users/emman/OneDrive/Documents/reacttsx/React-TS-login-using-jwt/src/Components/vitasdash/dash1.tsx"],"sourcesContent":["import React, { FC, useContext, useState } from \"react\";\r\nimport DataTable, { TableColumn } from \"react-data-table-component\";\r\nimport \"../vitasdash/VitasDashcss/dash1.css\";\r\nimport ModalEditarUsuario from \"../../Components/vitasdash/Modal/ModalEditarUsuario\";\r\nimport { UsuariosContext } from \"../../context/dashtabla/UsersTableContext\";\r\nimport { UserDeleteContext } from \"../../context/dashtabla/userDeleteContext\";\r\nimport ModalConfirmar from \"./Modal/ModalConfirmar\";\r\n\r\nconst columns: TableColumn<any>[] = [\r\n  {\r\n    name: \"Nombre\",\r\n    selector: (row: any) => row.nombre,\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Apellido\",\r\n    selector: (row: any) => row.apellido,\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Email-@\",\r\n    selector: (row: any) => row.email,\r\n    sortable: true,\r\n  },\r\n  {\r\n    name: \"Fecha de nacimiento\",\r\n    selector: (row: any) => row.fechaNacimiento,\r\n  },\r\n  {\r\n    name: \"Telefono\",\r\n    selector: (row: any) => row.telefono,\r\n  },\r\n  {\r\n    name: \"Acciones\",\r\n    selector: (row: any) => row.acciones,\r\n  },\r\n];\r\n\r\nconst Dash1: FC = () => {\r\n  const { usuarios, modalAbierto, usuarioSeleccionado, cerrarModal } = useContext(UsuariosContext)!;\r\n  const { eliminarUsuarios } = useContext(UserDeleteContext)!;\r\n  const [selectedRows, setSelectedRows] = useState<any[]>([]);\r\n  const [isConfirmModalOpen, setIsConfirmModalOpen] = useState(false);\r\n\r\n  const handleRowSelected = (state: any) => {\r\n    setSelectedRows(state.selectedRows);\r\n  };\r\n\r\n  const EliminarusuarioCofirmacion = () =>{\r\n    setIsConfirmModalOpen(true);\r\n  }\r\n\r\n  const handleEliminarClick = async () => {\r\n    try {\r\n      const idsUsuarios = selectedRows.map(row => row.idUsuario);\r\n      \r\n      await eliminarUsuarios(idsUsuarios);\r\n      setIsConfirmModalOpen(false);\r\n  \r\n    } catch (error) {\r\n      console.error('Error al eliminar usuarios:', error);\r\n    }\r\n  };\r\n  const cancelarEliminacio  = () =>{\r\n    setIsConfirmModalOpen(false);\r\n  }\r\n\r\n  if (!usuarios) {\r\n    return <div>Cargando...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"table-wrapper\">\r\n      <DataTable\r\n        title=\"Usuarios registrados\"\r\n        columns={columns}\r\n        data={usuarios}\r\n        pagination\r\n        paginationPerPage={5}\r\n        contextMessage={{ singular: 'Usuario seleccionado', plural: 'Usuarios seleccionados' }}\r\n        selectableRows\r\n        onSelectedRowsChange={handleRowSelected}\r\n        fixedHeader\r\n        contextActions={\r\n          <button onClick={handleEliminarClick} style={{ backgroundColor: \"red\", borderRadius: \"10px\", color: \"white\", borderColor: \"white\", height: \"45px\", width: \"80px\" }}>\r\n            <img src=\"/iconos/Delete.png\" style={{ height: \"45px\" }} alt=\"Eliminar\" />\r\n          </button>\r\n        }\r\n      />\r\n      {modalAbierto && usuarioSeleccionado && (\r\n        <ModalEditarUsuario\r\n          usuario={usuarioSeleccionado}\r\n          cerrarModal={cerrarModal}\r\n        />\r\n      )}\r\n      <ModalConfirmar\r\n        show={isConfirmModalOpen}\r\n        handleClose={cancelarEliminacio}\r\n        handleConfirm={EliminarusuarioCofirmacion}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dash1;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}